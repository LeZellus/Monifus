{% extends 'base.html.twig' %}

{% block title %}Profil | {{ parent() }}{% endblock %}

{% block body %}
    <h1 class="text-center">Profil</h1>


    <section class="grid gap-4 lg:gap-6 lg:grid-cols-3">
        <div class="wrapper wrapper-style grid gap-4 lg:gap-6">
            <div class="flex items-center">
                {% if app.user.profilePicture %}
                    <div class="rounded-full w-16 h-16 mr-4 bg-cover bg-center" style="background-image:url('{{ asset('images/profiles/' ~ app.user.profilePicture) }}')"></div>
                {% else %}
                    <div class="rounded-full w-16 h-16 mr-4 bg-cover bg-center" style="background-image:url('{{ asset('uploads/profil_thumb.png') }}')"></div>
                {% endif %}
                <h2 class="text-xl font-extrabold">{{ app.user.pseudonymeWebsite }}</h2>
            </div>
            <div>
                <p>Email : {{ app.user.email }}</p>
                <p>Contact sur Dofus : <span class="text-primary-500 font-bold">{{ app.user.pseudonymeDofus }}</span></p>
            </div>
        </div>
        {% if app.user.coverPicture %}
            <div class="w-full h-64 rounded-lg lg:col-span-2 overflow-hidden bg-cover bg-center p-4" style="background-image:url('{{ asset('images/covers/' ~ app.user.coverPicture) }}')">
                <h2 class="text-xl font-extrabold">Photo de couverture</h2>
            </div>
        {% else %}
            <div class="w-full h-64 rounded-lg lg:col-span-2 overflow-hidden bg-cover bg-center p-4" style="background-image:url('{{ asset('uploads/cover.webp') }}')">
                <h2 class="text-xl font-extrabold">Photo de couverture</h2>
            </div>
        {% endif %}
        <div class="wrapper wrapper-style lg:col-start-2 lg:col-span-2 grid gap-4 lg:gap-6">
            <h2 class="text-xl font-extrabold">Informations générales</h2>
            {{ form_start(editForm, {'attr': {'class': 'grid md:grid-cols-2 lg:gap-6 gap-4'}}) }}
            <div>
                {{ form_label(editForm.pseudonymeWebsite, 'Pseudo sur le site') }}
                {{ form_widget(editForm.pseudonymeWebsite) }}
                {{ form_errors(editForm.pseudonymeWebsite) }}
            </div>
            <div>
                {{ form_label(editForm.pseudonymeDofus, 'Pseudo en jeu') }}
                {{ form_widget(editForm.pseudonymeDofus) }}
                {{ form_errors(editForm.pseudonymeDofus) }}
            </div>
            <div>
                {{ form_label(editForm.profilePictureFile, 'Photo de profil') }}
                {{ form_widget(editForm.profilePictureFile) }}
                {{ form_errors(editForm.profilePictureFile) }}
            </div>
            <div>
                {{ form_label(editForm.coverPictureFile, 'Photo de couverture') }}
                {{ form_widget(editForm.coverPictureFile) }}
                {{ form_errors(editForm.coverPictureFile) }}
            </div>

            <div>
                {{ form_label(editForm.submit, 'Pseudo en jeu') }}
                {{ form_widget(editForm.submit) }}
            </div>
            {{ form_end(editForm) }}
        </div>
    </section>
{% endblock %}
